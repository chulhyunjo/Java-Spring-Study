# 04. 예외처리

- 에러와 예외
  - 어떤 원인에 의해 오동작 하거나 비정상적으로 종료되는 경우
  - 심각도에 따른 분류
    - Error
      - 메모리 부족, stack overflow와 같이 일단 발생하면 복구할 수 없는 상황
      - 프로그램의 비 정상적 종료를 막을 수 없음 -> 디버깅 필요
    - Exception
      - 읽으려는 파일이 없거나, 네트워크 연결이 안되는 등 수습될 수 있는 비교적 상태가 약한 것들
      - 프로그램 코드에 의해 수습될 수 있는 상황



- 예외처리 란?
  - 예외 발생 시 프로그램의 비 정상 종료를 막고 정상적인 실행 상태를 유지하는 것
  - 예외의 감지 및 예외 발생 시 동작할 코드 작성 필요



> 예외 클래스의 계층

- Checked exception
  - 예외에 대한 대처 코드가 없으면 컴파일이 진행되지 않음
- Unchecked exception(Runtime Exception의 하위 클래스
  - 예외에 대한 대처 코드가 없더라도 컴파일은 진행됨



> 예외 처리 키워드

- 직접 처리
  - try
  - catch
  - finally
- 간접 처리
  - throws
- 사용자 정의 예외 처리
  - throw



> try~catch 구문

```java
try{
    // 예외가 발생할 수 있는 코드
} catch (Exception e){
    // 예외가 발생했을 때 처리할 코드
}
```



> Exception 객체의 정보 활용

- Throwable의 주요 메서드
  - public String getMessage(): 발생된 예외에 대한 구체적인 메시지를 반환
  - public Throwable getCause(): 예외의 원인이 되는 Throwable객체 또는 null을 반환
  - public void printStackTrace(): 예외가 발생된 메서드가 호출되기까지의 메서드 호출 스택을 출력



> 다중 exception handling

- try 블록에서 여러 종류의 예외가 발생할 경우
- 하나의 try 블록에 여러 개의 catch 블록 추가 가능(예외 종류별로catch 블록 구성)
- 다중 catch 문장 작성 순서 유의 사항
  - JVM이 던진 예외는 catch문장을 찾을 때는 **다형성**이 적용됨
  - 상위 타입의 예외가 먼저 선언되는 경우 뒤에 등장하는 catch 블록은 동작할 기회가 없음
  - 상속 관계가 없는 경우는 무관
  - 상속 관계에서는 작은 범위에서 큰 범위순으로 정의



> finally

- 예외발생 여부와 상관없이 언제나 실행
- 중간에 return을 만나는 경우에도 finally 블록을 먼저 수행 후 return 실행



